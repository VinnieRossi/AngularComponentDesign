<!-- Display Container -->
<div class="container-grid">

  <!-- Display container and all properties on container -->
  <div class="container-grid-box">
    <h5 class="text-info">{{container.name}}</h5>

    <!-- Display presenter inputs on container -->
    <div class="scrollbar scrollbar-near-moon property-container">
      <div *ngFor="let presenter of container.components">
        <div *ngFor="let input of presenter.inputProperties">
          <small style="padding-right: 5px;" class="text-secondary">private {{input.name}}: {{input.type}};</small>
          <button style="border: none;" (click)="removeInputClicked(presenter, input)" class="btn btn-outline-danger btn-xs">&times;</button>
        </div>
      </div>
    </div>

    <!-- Display event emitter handlers on container -->
    <div class="scrollbar scrollbar-near-moon property-container">
      <div *ngFor="let presenter of container.components">
        <div *ngFor="let event of presenter.eventEmitters">
          <small style="padding-right: 5px;" class="text-secondary">private on{{event.name[0].toUpperCase() + event.name.substring(1)}}(event: {{event.type}}): void &#123;&#125;</small>
          <button style="border: none;" (click)="removeEventEmitterClicked(presenter, event)" class="btn btn-outline-danger btn-xs">&times;</button>
        </div>
      </div>
    </div>

    <!-- Buttons on container -->
    <div class="container-add-presenter-button">
      <button class="btn btn-sm btn-outline-secondary" style="margin-right: 5px" (click)="generateContainerCodeClicked(container)">Get
        Container
        code</button>
      <button class="btn btn-sm btn-primary" (click)="createPresenterClicked(container)" [disabled]="container.components.length >= 3">Add Presenter</button>
    </div>
  </div>

  <!-- Child Presenters of Container -->
  <div *ngFor="let presenter of container.components; index as i" [ngClass]="getClassForPresenter(i)">
    <span *ngIf="!isEditingPresenterName" class="presenter-name" (click)="enablePresenterNameChange()">{{presenter.name}}</span>

    <div *ngIf="isEditingPresenterName" class="input-group input-group-sm">
      <input type="text" name="inputName" class="form-control" autofocus placeholder="Presenter name (eg. hello-world)" [(ngModel)]="presenter.name">
      <div class="input-group-append">
        <button class="btn btn-outline-success btn-xs" (click)="savePresenterNameClicked(presenter)">
          Save</button>
      </div>
    </div>


    <!-- Display/Add Input Property -->
    <div>

      <button *ngIf="!isCreatingInput" [disabled]="isCreatingEvent" (click)="showCreateInputPropertyClicked()" class="btn btn-success btn-xs">+
        Add Input Property</button>

      <!-- Creating a new input property -->
      <div *ngIf="isCreatingInput">

        <!-- Input Property Name and Type-->
        <div class="input-group input-group-sm">
          <input type="text" name="inputName" class="form-control" autofocus placeholder="Property name (eg. isVisible)" [(ngModel)]="newInputProperty.name">
          <div class="input-group-append">
            <div class="row">
              <div class="col">
                <div ngbDropdown class="d-inline-block">
                  <button class="btn btn-outline-secondary btn-sm" style="border-radius: 0px" name="inputType" id="dropdownBasic1" ngbDropdownToggle>{{newInputProperty.type}}</button>
                  <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                    <button ngbDropdownItem *ngFor="let type of supportedTypes" (click)="setPropertyType(type)">{{type}}</button>
                  </div>
                </div>
              </div>
            </div>
            <button class="btn btn-outline-success btn-xs" (click)="createInputPropertyClicked(presenter)">+
              Add</button>
          </div>
        </div>

      </div>

      <!-- List of all Input Properties -->
      <div class="scrollbar scrollbar-near-moon property-container">
        <div *ngFor="let input of presenter.inputProperties">
          <small style="padding-right: 5px;" class="text-secondary">@Input() {{input.name}}: {{input.type}};</small>
          <button style="border: none;" (click)="removeInputClicked(presenter, input)" class="btn btn-outline-danger btn-xs">&times;</button>
        </div>
      </div>

    </div>

    <!-- Display/Add Event Emitter -->
    <div>

      <button *ngIf="!isCreatingEvent" [disabled]="isCreatingInput" (click)="showCreateEventEmitterClicked()" class="btn btn-success btn-xs">+ Add Event
        Emitter</button>

      <!-- Creating a new Event Emitter -->
      <div *ngIf="isCreatingEvent">

        <!-- Event Emitter Name and Type-->
        <div class="input-group input-group-sm">
          <input type="text" name="inputName" class="form-control" autofocus placeholder="Emitter name (eg. close)" [(ngModel)]="newEventEmitter.name">
          <div class="input-group-append">
            <div class="row">
              <div class="col">
                <div ngbDropdown class="d-inline-block">
                  <button class="btn btn-outline-secondary btn-sm" style="border-radius: 0px" name="inputType" id="dropdownBasic1" ngbDropdownToggle>{{newEventEmitter.type}}</button>
                  <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                    <button ngbDropdownItem *ngFor="let type of supportedTypes" (click)="setEmitterType(type)">{{type}}</button>
                  </div>
                </div>
              </div>
            </div>
            <button class="btn btn-outline-success btn-xs" (click)="createEventEmitterClicked(presenter)">+ Add</button>
          </div>
        </div>
      </div>

      <!-- List of all Event Emitters -->
      <div class="scrollbar scrollbar-near-moon property-container">
        <div *ngFor="let event of presenter.eventEmitters">
          <small style="padding-right: 5px;" class="text-secondary">@Output() {{event.name}}:
            EventEmitter&lt;{{event.type}}&gt;</small>
          <button style="border: none;" (click)="removeEventEmitterClicked(presenter, event)" class="btn btn-outline-danger btn-xs">&times;</button>
        </div>
      </div>

    </div>

    <!-- Get Presenter code -->
    <div class="container-add-presenter-button">
      <button class="btn btn-outline-secondary btn-sm" style="margin-right: 5px" (click)="generatePresenterCodeClicked(presenter)">Get
        Presenter
        code</button>
    </div>
  </div>

</div>